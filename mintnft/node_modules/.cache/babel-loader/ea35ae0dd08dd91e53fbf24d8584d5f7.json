{"ast":null,"code":"\"use strict\";\n\nimport _classCallCheck from \"C:/Users/x7491/Creating-Art-With-NFT-Generator/mintnft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/x7491/Creating-Art-With-NFT-Generator/mintnft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/x7491/Creating-Art-With-NFT-Generator/mintnft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/x7491/Creating-Art-With-NFT-Generator/mintnft/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { MaxUint256, NegativeOne, One, Zero } from \"@ethersproject/constants\";\nimport { Coder } from \"./abstract-coder\";\nexport var NumberCoder = /*#__PURE__*/function (_Coder) {\n  _inherits(NumberCoder, _Coder);\n\n  var _super = _createSuper(NumberCoder);\n\n  function NumberCoder(size, signed, localName) {\n    var _this;\n\n    _classCallCheck(this, NumberCoder);\n\n    var name = (signed ? \"int\" : \"uint\") + size * 8;\n    _this = _super.call(this, name, name, localName, false);\n    _this.size = size;\n    _this.signed = signed;\n    return _this;\n  }\n\n  _createClass(NumberCoder, [{\n    key: \"encode\",\n    value: function encode(writer, value) {\n      var v = BigNumber.from(value); // Check bounds are safe for encoding\n\n      var maxUintValue = MaxUint256.mask(writer.wordSize * 8);\n\n      if (this.signed) {\n        var bounds = maxUintValue.mask(this.size * 8 - 1);\n\n        if (v.gt(bounds) || v.lt(bounds.add(One).mul(NegativeOne))) {\n          this._throwError(\"value out-of-bounds\", value);\n        }\n      } else if (v.lt(Zero) || v.gt(maxUintValue.mask(this.size * 8))) {\n        this._throwError(\"value out-of-bounds\", value);\n      }\n\n      v = v.toTwos(this.size * 8).mask(this.size * 8);\n\n      if (this.signed) {\n        v = v.fromTwos(this.size * 8).toTwos(8 * writer.wordSize);\n      }\n\n      return writer.writeValue(v);\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(reader) {\n      var value = reader.readValue().mask(this.size * 8);\n\n      if (this.signed) {\n        value = value.fromTwos(this.size * 8);\n      }\n\n      return reader.coerce(this.name, value);\n    }\n  }]);\n\n  return NumberCoder;\n}(Coder);","map":{"version":3,"mappings":"AAAA;;;;;;AAEA,SAASA,SAAT,QAAwC,0BAAxC;AACA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,GAAlC,EAAuCC,IAAvC,QAAmD,0BAAnD;AAEA,SAASC,KAAT,QAAsC,kBAAtC;AAEA,WAAaC,WAAb;EAAA;;EAAA;;EAII,qBAAYC,IAAZ,EAA0BC,MAA1B,EAA2CC,SAA3C,EAA4D;IAAA;;IAAA;;IACxD,IAAMC,IAAI,GAAI,CAACF,MAAM,GAAG,KAAH,GAAU,MAAjB,IAA4BD,IAAI,GAAG,CAAjD;IACA,0BAAMG,IAAN,EAAYA,IAAZ,EAAkBD,SAAlB,EAA6B,KAA7B;IAEA,MAAKF,IAAL,GAAYA,IAAZ;IACA,MAAKC,MAAL,GAAcA,MAAd;IALwD;EAM3D;;EAVL;IAAA;IAAA,OAYI,gBAAOG,MAAP,EAAuBC,KAAvB,EAA0C;MACtC,IAAIC,CAAC,GAAGb,SAAS,CAACc,IAAV,CAAeF,KAAf,CAAR,CADsC,CAGtC;;MACA,IAAIG,YAAY,GAAGd,UAAU,CAACe,IAAX,CAAgBL,MAAM,CAACM,QAAP,GAAkB,CAAlC,CAAnB;;MACA,IAAI,KAAKT,MAAT,EAAiB;QACb,IAAIU,MAAM,GAAGH,YAAY,CAACC,IAAb,CAAkB,KAAKT,IAAL,GAAY,CAAZ,GAAgB,CAAlC,CAAb;;QACA,IAAIM,CAAC,CAACM,EAAF,CAAKD,MAAL,KAAgBL,CAAC,CAACO,EAAF,CAAKF,MAAM,CAACG,GAAP,CAAWlB,GAAX,EAAgBmB,GAAhB,CAAoBpB,WAApB,CAAL,CAApB,EAA4D;UACxD,KAAKqB,WAAL,CAAiB,qBAAjB,EAAwCX,KAAxC;QACH;MACJ,CALD,MAKO,IAAIC,CAAC,CAACO,EAAF,CAAKhB,IAAL,KAAcS,CAAC,CAACM,EAAF,CAAKJ,YAAY,CAACC,IAAb,CAAkB,KAAKT,IAAL,GAAY,CAA9B,CAAL,CAAlB,EAA0D;QAC7D,KAAKgB,WAAL,CAAiB,qBAAjB,EAAwCX,KAAxC;MACH;;MAEDC,CAAC,GAAGA,CAAC,CAACW,MAAF,CAAS,KAAKjB,IAAL,GAAY,CAArB,EAAwBS,IAAxB,CAA6B,KAAKT,IAAL,GAAY,CAAzC,CAAJ;;MAEA,IAAI,KAAKC,MAAT,EAAiB;QACbK,CAAC,GAAGA,CAAC,CAACY,QAAF,CAAW,KAAKlB,IAAL,GAAY,CAAvB,EAA0BiB,MAA1B,CAAiC,IAAIb,MAAM,CAACM,QAA5C,CAAJ;MACH;;MAED,OAAON,MAAM,CAACe,UAAP,CAAkBb,CAAlB,CAAP;IACH;EAjCL;IAAA;IAAA,OAmCI,gBAAOc,MAAP,EAAqB;MACjB,IAAIf,KAAK,GAAGe,MAAM,CAACC,SAAP,GAAmBZ,IAAnB,CAAwB,KAAKT,IAAL,GAAY,CAApC,CAAZ;;MAEA,IAAI,KAAKC,MAAT,EAAiB;QACbI,KAAK,GAAGA,KAAK,CAACa,QAAN,CAAe,KAAKlB,IAAL,GAAY,CAA3B,CAAR;MACH;;MAED,OAAOoB,MAAM,CAACE,MAAP,CAAc,KAAKnB,IAAnB,EAAyBE,KAAzB,CAAP;IACH;EA3CL;;EAAA;AAAA,EAAiCP,KAAjC","names":["BigNumber","MaxUint256","NegativeOne","One","Zero","Coder","NumberCoder","size","signed","localName","name","writer","value","v","from","maxUintValue","mask","wordSize","bounds","gt","lt","add","mul","_throwError","toTwos","fromTwos","writeValue","reader","readValue","coerce"],"sourceRoot":"","sources":["../../src.ts/coders/number.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}