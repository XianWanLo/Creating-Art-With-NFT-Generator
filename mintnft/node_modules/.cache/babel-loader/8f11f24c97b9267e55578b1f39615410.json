{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar XMLHttpRequestEventTarget =\n/** @class */\nfunction () {\n  function XMLHttpRequestEventTarget() {\n    this.listeners = {};\n  }\n\n  XMLHttpRequestEventTarget.prototype.addEventListener = function (eventType, listener) {\n    eventType = eventType.toLowerCase();\n    this.listeners[eventType] = this.listeners[eventType] || [];\n    this.listeners[eventType].push(listener.handleEvent || listener);\n  };\n\n  XMLHttpRequestEventTarget.prototype.removeEventListener = function (eventType, listener) {\n    eventType = eventType.toLowerCase();\n\n    if (!this.listeners[eventType]) {\n      return;\n    }\n\n    var index = this.listeners[eventType].indexOf(listener.handleEvent || listener);\n\n    if (index < 0) {\n      return;\n    }\n\n    this.listeners[eventType].splice(index, 1);\n  };\n\n  XMLHttpRequestEventTarget.prototype.dispatchEvent = function (event) {\n    var eventType = event.type.toLowerCase();\n    event.target = this; // TODO: set event.currentTarget?\n\n    if (this.listeners[eventType]) {\n      for (var _i = 0, _a = this.listeners[eventType]; _i < _a.length; _i++) {\n        var listener_1 = _a[_i];\n        listener_1.call(this, event);\n      }\n    }\n\n    var listener = this[\"on\" + eventType];\n\n    if (listener) {\n      listener.call(this, event);\n    }\n\n    return true;\n  };\n\n  return XMLHttpRequestEventTarget;\n}();\n\nexports.XMLHttpRequestEventTarget = XMLHttpRequestEventTarget;","map":{"version":3,"mappings":";;;;;;AAMA;AAAA;AAAA;EAAA;IASS,iBAA4D,EAA5D;EAiCR;;EA/BAA,iEAAiBC,SAAjB,EAAoCC,QAApC,EAAyF;IACxFD,SAAS,GAAGA,SAAS,CAACE,WAAV,EAAZ;IACA,KAAKC,SAAL,CAAeH,SAAf,IAA4B,KAAKG,SAAL,CAAeH,SAAf,KAA6B,EAAzD;IACA,KAAKG,SAAL,CAAeH,SAAf,EAA0BI,IAA1B,CAAgCH,QAAwC,CAACI,WAAzC,IAAyDJ,QAAzF;EACA,CAJD;;EAKAF,oEAAoBC,SAApB,EAAuCC,QAAvC,EAA4F;IAC3FD,SAAS,GAAGA,SAAS,CAACE,WAAV,EAAZ;;IACA,IAAI,CAAC,KAAKC,SAAL,CAAeH,SAAf,CAAL,EAAgC;MAAE;IAAS;;IAE3C,IAAMM,KAAK,GAAG,KAAKH,SAAL,CAAeH,SAAf,EAA0BO,OAA1B,CAAmCN,QAAwC,CAACI,WAAzC,IAAyDJ,QAA5F,CAAd;;IACA,IAAIK,KAAK,GAAG,CAAZ,EAAe;MAAE;IAAS;;IAE1B,KAAKH,SAAL,CAAeH,SAAf,EAA0BQ,MAA1B,CAAiCF,KAAjC,EAAwC,CAAxC;EACA,CARD;;EASAP,8DAAcU,KAAd,EAAkC;IACjC,IAAMT,SAAS,GAAGS,KAAK,CAACC,IAAN,CAAWR,WAAX,EAAlB;IACAO,KAAK,CAACE,MAAN,GAAe,IAAf,CAFiC,CAEZ;;IAErB,IAAI,KAAKR,SAAL,CAAeH,SAAf,CAAJ,EAA+B;MAC9B,KAAqB,sBAAKG,SAAL,CAAeH,SAAf,CAArB,EAAqBY,cAArB,EAAqBA,IAArB,EAA8C;QAAzC,IAAIC,UAAQ,SAAZ;QACJA,UAAQ,CAACC,IAAT,CAAc,IAAd,EAAoBL,KAApB;MACA;IACD;;IAED,IAAMR,QAAQ,GAAG,KAAK,OAAKD,SAAV,CAAjB;;IACA,IAAIC,QAAJ,EAAc;MACbA,QAAQ,CAACa,IAAT,CAAc,IAAd,EAAoBL,KAApB;IACA;;IAED,OAAO,IAAP;EACA,CAhBD;;EAiBD;AAAC,CA1CD;;AAAaM","names":["XMLHttpRequestEventTarget","eventType","listener","toLowerCase","listeners","push","handleEvent","index","indexOf","splice","event","type","target","_i","listener_1","call","exports"],"sourceRoot":"","sources":["../xml-http-request-event-target.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}